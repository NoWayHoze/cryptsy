(ns cryptsy.core

  (:require [clj-http.client :as client])
  (:require [cryptsy.markets :as m]))

(defn foo
  "I don't do a whole lot."
  [x]
  (println x "Hello, World!"))


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               {:label "AC/BTC", :secondarycode "BTC", :primarycode "AC", :marketid "199"})

(def market_id (:marketid (:DRK/BTC m/markets)))

(-> (client/get (str "http://pubapi.cryptsy.com/api.php?method=singlemarketdata&marketid=" 1) {:as :json})
    :body :return :markets vals first :label)


;(for [i (range 1 200)]
;  (let [ market (-> (client/get (str "http://pubapi.cryptsy.com/api.php?method=singlemarketdata&marketid=" i) {:as :json}) :body :return :markets vals first)]
;         (select-keys market [:marketid :primarycode :secondarycode :label])))
